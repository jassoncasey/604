\frame{\frametitle{Base Environment \& Rules}
   \begin{flushleft}
   \begin{align*}
      \Gamma_0 &::= \{  \mbox{Nat}::\star, \mbox{Bool}::\star, 
                        \mbox{Ascii}::\star\} \\
      \Gamma_1 &::= \Gamma_0, \{ 0..\infty:\mbox{Nat}, True:\mbox{Bool}, 
                                 False:\mbox{Bool} \}
   \end{align*}
   \end{flushleft}

\begin{mathpar}
   \inferrule[] {
      \tau :: K \in \Gamma 
   } {
      \Gamma \vdash \tau :: K } \\
   \inferrule[] {
      x : \tau \in \Gamma 
   } {
      \Gamma \vdash x : \tau } \\
\end{mathpar}
}

\frame{\frametitle{}
\begin{mathpar}
   \inferrule[KindAbs]{
      \Gamma \vdash \tau_1 ::\star \\
      \Gamma,x:\tau_1 \vdash \tau_2 ::\star
   } {
      \Gamma \vdash \Pi x:\tau_1.\tau_2 ::\star 
   }\\
   \inferrule[KindApp]{
      \Sigma | \Gamma \vdash \tau ::\Pi x:\tau_1 .K \\
      \Sigma | \Gamma \vdash t:\tau_2
   } {
      \Sigma | \Gamma \vdash \tau t:[x \mapsto t]K
   }
\end{mathpar}
}

\frame{\frametitle{Pdu Kinding}
  Define $f$ by
    $$f(\{ \rho \}) = \forall (\ell : \tau'') \in \rho,
      \forall t \in \tau, .$$
  \begin{mathpar}
   \inferrule[PduFieldKind]{
     \ell \not \in \Sigma \\ \gamma \leftarrow f(\rho) \\
     \Sigma ~|~ \Gamma, \gamma \vdash \tau' :: \star \\
     \tau' = \forall t \in \tau, [\rho.t/ t]
   } {
      \Sigma ~|~ \Gamma \vdash \langle \rho, \ell : \tau \rangle
        : \langle \rho, \ell : \tau \rangle
   }\\
   \inferrule[TypeCheckPdu]{
      id \not \in dom(\Sigma) \\
      \Sigma ~|~ \Gamma \vdash \langle \langle \rangle, \ell_1 : \tau_1 \rangle
        : \rho_1 \\
      \forall i \in 2..n \ \Sigma ~|~ \Gamma \vdash \langle \rho_{i-1} ,
        \ell_{i} : \tau_{i} \rangle : \rho_i
   } {
      \Sigma | \Gamma \vdash \mbox{ pdu } \mbox{ id }
        \{ \overline{\ell_i = \tau_i} \} : \rho_n 
   }
  \end{mathpar}

  \begin{mathpar}
    \inferrule[Pdu]{
      \Sigma ~|~ \Gamma \vdash \mbox{ pdu } id \{ \overline{\ell_i = \tau_i} \} : \rho \\
      \Sigma, \langle id : \rho \rangle ~|~ \vdash prgm
    } {
      \Sigma ~|~ \Gamma \vdash \mbox{ pdu } id \{ \overline{\ell_i = \tau_i } \} , prgm  
    }
  \end{mathpar}
}

\frame{\frametitle{}

  \begin{mathpar}
    \inferrule[Proj]{
      \Delta \vdash id:\langle \ell_i' : \tau_i' \rangle \\
      k \leq i \\ \forall j \in 1..k \
        \ell_j \in \langle \ell_i : \tau_i \rangle \
        t_j : \tau_k \ \tau_i \equiv \tau_i'
    } {
      \Delta ~|~ \Sigma ~|~ \Gamma \vdash \{ \overline{\ell_k = \tau_k} \}
        : \langle \ell_i : \tau_i \rangle
    }
  \end{mathpar}

}
